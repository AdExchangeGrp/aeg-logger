# language setting
language: node_js

# environment
cache: true

env:
  - XUNIT_FILE=shippable/testresults/result.xml

# exclude
branches:
  except:
    - dev

# include
branches:
  only:
    - master

# version number
node_js:
  - "0.10"

# running the tests and jshint
script:
    - npm -g install jshint
    - npm run jshint
    - npm test

# Tell istanbul to generate a coverage report
after_script:
  - ./node_modules/.bin/istanbul cover `npm test` -- -u tdd
  - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/
