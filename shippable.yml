# language setting
language: node_js

# environment
cache: true

env:
  - XUNIT_FILE=shippable/testresults/result.xml

# exclude
branches:
  except:
    - dev

# include
branches:
  only:
    - master

# version number
node_js:
  - "0.10"

 before_install:
  - npm -g install jshint

# running the tests and jshint
script:
  - npm run jshint
  - npm run build

# Tell istanbul to generate a coverage report
after_script:
  - ./node_modules/.bin/istanbul cover --dir  shippable/codecoverage/ _mocha -- --recursive test/
  - ./node_modules/.bin/istanbul report cobertura --dir  shippable/codecoverage/
